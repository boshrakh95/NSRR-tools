# Path Configuration for Compute Canada
# All paths are configurable and can be overridden via environment variables

# Base directories
paths:
  # Raw data location (original NSRR downloads)
  raw_base: "${SCRATCH}/psg/nsrr"
  
  # Processed/derived data output
  derived_base: "${SCRATCH}/psg"
  
  # Unified metadata and splits
  unified_base: "${SCRATCH}/psg/unified"
  
  # Temporary cache (fast storage)
  cache_base: "${SCRATCH}/psg_cache"
  
  # Home directory for small files (configs, logs)
  home_base: "${HOME}/NSRR-tools"

# Dataset-specific paths
# Using nsrr_downloads which has extracted files with annotations
datasets:
  stages:
    original: "${SCRATCH}/nsrr_downloads/stages/original"
    datasets: "${SCRATCH}/nsrr_downloads/stages/datasets"
    derived: "${SCRATCH}/psg/stages/derived"
    
  shhs:
    original: "${SCRATCH}/nsrr_downloads/shhs/polysomnography"
    datasets: "${SCRATCH}/nsrr_downloads/shhs/datasets"
    derived: "${SCRATCH}/psg/shhs/derived"
    
  apples:
    original: "${SCRATCH}/nsrr_downloads/apples/polysomnography"
    datasets: "${SCRATCH}/nsrr_downloads/apples/datasets"
    derived: "${SCRATCH}/psg/apples/derived"
    
  mros:
    original: "${SCRATCH}/nsrr_downloads/mros/polysomnography"
    datasets: "${SCRATCH}/nsrr_downloads/mros/datasets"
    derived: "${SCRATCH}/psg/mros/derived"

# Output structure within derived directories
derived_structure:
  hdf5_signals: "hdf5_signals"
  annotations: "annotations"
  masks: "masks"
  embeddings: "embeddings_sleepfm"
  logs: "logs"
  validation: "validation"
  normalization_stats: "normalization_stats"

# Unified outputs
unified:
  metadata: "${SCRATCH}/psg/unified/metadata"
  splits: "${SCRATCH}/psg/unified/splits"
  cache: "${SCRATCH}/psg_cache"
  reports: "${HOME}/NSRR-tools/reports"

# Environment variable expansion
# Set these in your shell or SLURM script:
# export SCRATCH=/scratch/username
# export HOME=/home/username
